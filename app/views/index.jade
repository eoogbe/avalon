doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    title Avalon
    
    link(href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css', rel='stylesheet')
    link(href='/stylesheets/avalon.css', rel='stylesheet')
    
    script(src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js')
    script(src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.1/js/bootstrap.min.js')
    script(src='//cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js')
    script(src='//cdn.socket.io/socket.io-1.2.0.js')
    
    script(src='/javascripts/viewmodels/player.js')
    script(src='/javascripts/viewmodels/game.js')
    script(src='/javascripts/viewmodels/quest.js')
    script(src='/javascripts/avalon.js')
    script(src='/javascripts/event-bindings.js')
    script(src='/javascripts/main.js')
  body.no-js
    h1 Avalon
    
    noscript This website does not work without Javascript enabled. Sorry.
    
    // ko if: hasAlert
    .alert.alert-info(role='alert', data-bind='text: alert')
    // /ko
    
    include ./helpers/_form.jade
    include ./helpers/_links.jade
    include ./players/_edit.jade
    include ./players/_index.jade
    include ./games/_new.jade
    include ./games/_index.jade
    include ./games/_gameover.jade
    include ./quests/_show.jade
    include ./quest_outcomes/_new.jade
    
    .modal.fade#confirm-dialog(
      role='dialog'
      aria-hidden='true'
      aria-labelledby='confirm-dialog-heading'
    )
      .modal-dialog.modal-sm
        section.modal-content.panel(data-bind='css: confirmDialog().type')
          header.modal-header.panel-heading
            button.close(type='button', data-dismiss='modal')
              span(aria-hidden='true') &times;
              span.sr-only Close
            h4.modal-title.panel-title#confirm-dialog-heading Are you sure?
          .modal-body.panel-body
            p(data-bind='text: confirmDialog().message')
          footer.modal-footer.panel-footer
            button(
              type='button'
              data-dismiss='modal'
              data-bind='text: confirmDialog().negativeBtnText'
            )
            button(
              type='button'
              data-bind='click: confirmDialog().action,\
                text: confirmDialog().positiveBtnText'
            )
    
    .modal.fade#warning-dialog(
      role='dialog'
      aria-hidden='true'
      aria-labelledby='warning-dialog-heading'
    )
      .modal-dialog.modal-sm
        section.modal-content.panel.panel-danger
          header.modal-header.panel-heading
            button.close(type='button', data-bind='click: game().reload')
              span(aria-hidden='true') &times;
              span.sr-only Close
            h4.modal-title.panel-title#warning-dialog-heading Warning
          .modal-body.panel-body
            p This game was deleted by its owner.
          footer.modal-footer.panel-footer
            button(type='button', data-bind='click: game().reload') Ok, take me back
